apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: perf
spec:
  homepage: https://github.com/josepdcs/kubectl-perf
  shortDescription: Generate CPU profiling graphs from pods (Docker, Cri-o are supported). This is a fork of flame plugin.
  version: v0.1.0
  description: |
    Generate CPU profiling graphs without restarting pods and with low overhead. Docker, Cri-o are supported, Containerd support is comming soon. 
    This is an open source fork of https://github.com/yahoo/kubectl-flame with several new features and bug fixes.
  caveats: |
    Currently supported languages: Go, Java (any JVM based language), Python, Ruby, and NodeJS.
  platforms:
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_darwin_x86_64.tar.gz
      sha256: 8fcc71bd9f7ae005ff11889b2d0e1464146fdbb0ffc7282687602cc1553be9dc
      bin: kubectl-perf
      files:
        - from: kubectl-perf
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_darwin_arm64.tar.gz
      sha256: 3b80ae79cd0701afeaaa4d07d91db765f3bb353282a0a667c6d06a100e1dca6e
      bin: kubectl-perf
      files:
        - from: kubectl-perf
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: darwin
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_linux_x86_64.tar.gz
      sha256: 2993ee5a4f2b9d29a7d9d9126681b6542a59f8994141a97c9471ad2fdc1a14c8
      bin: kubectl-perf
      files:
        - from: kubectl-perf
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_linux_arm64.tar.gz
      sha256: b8f7882a8b841e90f3607f813f8a04bfa41c0d72e4750e0970fabb613f8a0294
      bin: kubectl-perf
      files:
        - from: kubectl-perf
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: linux
          arch: arm64
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_windows_x86_64.zip
      sha256: 96ad5e84315e0510f948d941be2fe4dd090053dd25fb8f3551bcc9b63febfd5c
      bin: kubectl-perf.exe
      files:
        - from: kubectl-perf.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: amd64
    - uri: https://github.com/josepdcs/kubectl-perf/releases/download/v0.1.0/kubectl-perf_v0.1.0_windows_arm64.zip
      sha256: e3909d0f4fc7b56283554a6476621ac721e8c55ed0cc448a3ca59436faaea7c2
      bin: kubectl-perf.exe
      files:
        - from: kubectl-perf.exe
          to: .
        - from: LICENSE
          to: .
      selector:
        matchLabels:
          os: windows
          arch: arm64
